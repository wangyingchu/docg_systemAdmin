<html>
  <head>
    <meta charset="utf-8" />
    <title>Graph2d | External legend Example</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"body,\nhtml {\n  font-family: sans-serif;\n}\n\n.custom-style1 {\n  fill: #f2ea00;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #b3ab00;\n}\n\n.custom-style2 {\n  fill: #00a0f2;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #050092;\n}\n\n.custom-style3 {\n  fill: #00f201;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #029200;\n}\n\npath.custom-style3.fill {\n  fill-opacity: 0.5 !important;\n  stroke: none;\n}\n\n.vis-graph-group0 {\n  fill: #4f81bd;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #4f81bd;\n}\n\n.vis-graph-group1 {\n  fill: #f79646;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #f79646;\n}\n\n.vis-graph-group2 {\n  fill: #8c51cf;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #8c51cf;\n}\n\n.vis-graph-group3 {\n  fill: #75c841;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #75c841;\n}\n\n.vis-graph-group4 {\n  fill: #ff0100;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #ff0100;\n}\n\n.vis-graph-group5 {\n  fill: #37d8e6;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #37d8e6;\n}\n\n.vis-graph-group6 {\n  fill: #042662;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #042662;\n}\n\n.vis-graph-group7 {\n  fill: #00ff26;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #00ff26;\n}\n\n.vis-graph-group8 {\n  fill: #ff00ff;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #ff00ff;\n}\n\n.vis-graph-group9 {\n  fill: #8f3938;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #8f3938;\n}\n\n.vis-fill {\n  fill-opacity: 0.1;\n  stroke: none;\n}\n\n.vis-bar {\n  fill-opacity: 0.5;\n  stroke-width: 1px;\n}\n\n.vis-point {\n  stroke-width: 2px;\n  fill-opacity: 1;\n}\n\n.vis-legend-background {\n  stroke-width: 1px;\n  fill-opacity: 0.9;\n  fill: #ffffff;\n  stroke: #c2c2c2;\n}\n\n.vis-outline {\n  stroke-width: 1px;\n  fill-opacity: 1;\n  fill: #ffffff;\n  stroke: #e5e5e5;\n}\n\n.vis-icon-fill {\n  fill-opacity: 0.3;\n  stroke: none;\n}\n\ndiv.description-container {\n  float: left;\n  height: 30px;\n  width: 160px;\n  padding-left: 5px;\n  padding-right: 5px;\n  line-height: 30px;\n}\n\ndiv.icon-container {\n  float: left;\n}\n\ndiv.legend-element-container {\n  display: inline-block;\n  width: 200px;\n  height: 30px;\n  border-style: solid;\n  border-width: 1px;\n  border-color: #e0e0e0;\n  background-color: #ffffff;\n  margin: 4px;\n  padding: 4px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: pointer;\n}\ndiv.legend-element-container.hidden {\n  background-color: #d3e6ff;\n}\n\nsvg.legend-icon {\n  width: 30px;\n  height: 30px;\n}\n\ndiv.external-legend {\n  position: relative;\n  margin-left: -5px;\n  width: 900px;\n}\n","css_external":"https://visjs.github.io/vis-timeline/dist/vis-timeline-graph2d.min.css","html":"&lt;h2&gt;Graph2d | External custom legend&lt;/h2&gt;\n&lt;div style=\"width:800px; font-size:14px; text-align: justify;\"&gt;\n  This example shows how to create an external custom legend using the getLegend\n  function. We use normal JavaScript to show and hide the groups by updating the\n  dataset.\n&lt;/div&gt;\n&lt;br /&gt;\n&lt;div id=\"Legend\" class=\"external-legend\"&gt;&lt;/div&gt;\n&lt;div id=\"visualization\"&gt;&lt;/div&gt;\n","js":"// create a dataSet with groups\nvar names = [\"SquareShaded\", \"Bargraph\", \"Blank\", \"CircleShaded\"];\nvar groups = new vis.DataSet();\ngroups.add({\n  id: 0,\n  content: names[0],\n  className: \"custom-style1\",\n  options: {\n    drawPoints: {\n      style: \"square\" // square, circle\n    },\n    shaded: {\n      orientation: \"bottom\" // top, bottom\n    }\n  }\n});\n\ngroups.add({\n  id: 1,\n  content: names[1],\n  className: \"custom-style2\",\n  options: {\n    style: \"bar\",\n    drawPoints: { style: \"circle\", size: 10 }\n  }\n});\n\ngroups.add({\n  id: 2,\n  content: names[2],\n  options: {\n    yAxisOrientation: \"right\", // right, left\n    drawPoints: false\n  }\n});\n\ngroups.add({\n  id: 3,\n  content: names[3],\n  className: \"custom-style3\",\n  options: {\n    yAxisOrientation: \"right\", // right, left\n    drawPoints: {\n      style: \"circle\" // square, circle\n    },\n    shaded: {\n      orientation: \"top\" // top, bottom\n    }\n  }\n});\n\nvar container = document.getElementById(\"visualization\");\nvar items = [\n  { x: \"2014-06-12\", y: 0, group: 0 },\n  { x: \"2014-06-13\", y: 30, group: 0 },\n  { x: \"2014-06-14\", y: 10, group: 0 },\n  { x: \"2014-06-15\", y: 15, group: 1 },\n  { x: \"2014-06-16\", y: 30, group: 1 },\n  { x: \"2014-06-17\", y: 10, group: 1 },\n  { x: \"2014-06-18\", y: 15, group: 1 },\n  { x: \"2014-06-19\", y: 52, group: 1 },\n  { x: \"2014-06-20\", y: 10, group: 1 },\n  { x: \"2014-06-21\", y: 20, group: 2 },\n  { x: \"2014-06-22\", y: 600, group: 2 },\n  { x: \"2014-06-23\", y: 100, group: 2 },\n  { x: \"2014-06-24\", y: 250, group: 2 },\n  { x: \"2014-06-25\", y: 300, group: 2 },\n  { x: \"2014-06-26\", y: 200, group: 3 },\n  { x: \"2014-06-27\", y: 600, group: 3 },\n  { x: \"2014-06-28\", y: 1000, group: 3 },\n  { x: \"2014-06-29\", y: 250, group: 3 },\n  { x: \"2014-06-30\", y: 300, group: 3 }\n];\n\nvar dataset = new vis.DataSet(items);\nvar options = {\n  dataAxis: { showMinorLabels: false },\n  start: \"2014-06-09\",\n  end: \"2014-07-03\"\n};\nvar graph2d = new vis.Graph2d(container, items, groups, options);\n\n/**\n * this function fills the external legend with content using the getLegend() function.\n */\nfunction populateExternalLegend() {\n  var groupsData = groups.get();\n  var legendDiv = document.getElementById(\"Legend\");\n  legendDiv.innerHTML = \"\";\n\n  // get for all groups:\n  for (var i = 0; i &lt; groupsData.length; i++) {\n    // create divs\n    var containerDiv = document.createElement(\"div\");\n    var iconDiv = document.createElement(\"div\");\n    var descriptionDiv = document.createElement(\"div\");\n\n    // give divs classes and Ids where necessary\n    containerDiv.className = \"legend-element-container\";\n    containerDiv.id = groupsData[i].id + \"_legendContainer\";\n    iconDiv.className = \"icon-container\";\n    descriptionDiv.className = \"description-container\";\n\n    // get the legend for this group.\n    var legend = graph2d.getLegend(groupsData[i].id, 30, 30);\n\n    // append class to icon. All styling classes from the vis-timeline-graph2d.min.css/vis-timeline-graph2d.min.css have been copied over into the head here to be able to style the\n    // icons with the same classes if they are using the default ones.\n    legend.icon.setAttributeNS(null, \"class\", \"legend-icon\");\n\n    // append the legend to the corresponding divs\n    iconDiv.appendChild(legend.icon);\n    descriptionDiv.innerHTML = legend.label;\n\n    // determine the order for left and right orientation\n    if (legend.orientation == \"left\") {\n      descriptionDiv.style.textAlign = \"left\";\n      containerDiv.appendChild(iconDiv);\n      containerDiv.appendChild(descriptionDiv);\n    } else {\n      descriptionDiv.style.textAlign = \"right\";\n      containerDiv.appendChild(descriptionDiv);\n      containerDiv.appendChild(iconDiv);\n    }\n\n    // append to the legend container div\n    legendDiv.appendChild(containerDiv);\n\n    // bind click event to this legend element.\n    containerDiv.onclick = toggleGraph.bind(this, groupsData[i].id);\n  }\n}\n\n/**\n * This function switchs the visible option of the selected group on an off.\n * @param groupId\n */\nfunction toggleGraph(groupId) {\n  // get the container that was clicked on.\n  var container = document.getElementById(groupId + \"_legendContainer\");\n  // if visible, hide\n  if (graph2d.isGroupVisible(groupId) == true) {\n    groups.update({ id: groupId, visible: false });\n    container.className = container.className + \" hidden\";\n  } else {\n    // if invisible, show\n    groups.update({ id: groupId, visible: true });\n    container.className = container.className.replace(\"hidden\", \"\");\n  }\n}\n\npopulateExternalLegend();\n","js_external":"https://visjs.github.io/vis-timeline/dist/vis-timeline-graph2d.min.js","title":"Graph2d | External legend Example"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">
        Open CodePen
      </button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
